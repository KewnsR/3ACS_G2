@page
@model HumanRepProj.Pages.LoansModel
@{
    ViewData["Title"] = "Loan Management";
    Layout = "_Layout";
}

<h2 class="mb-4">Manage Loans</h2>

<!-- Admin Navigation -->
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/Admin/Dashboard">Admin Dashboard</a></li>
        <li class="breadcrumb-item active" aria-current="page">Loan Management</li>
    </ol>
</nav>

<!-- Add New Loan Form -->


<!-- Loans Table -->
<div class="card">
    <div class="card-header bg-secondary text-white">
        Existing Loans
    </div>
    <div class="card-body">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>Loan ID</th>
                    <th>Employee ID</th>
                    <th>Loan Type</th>
                    <th>Amount</th>
                    <th>Paid</th>
                    <th>Status</th>
                    <th>Issued</th>
                    <th>Due</th>
                    <th>Term</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var loan in Model.LoansList)
                {
                    <tr>
                        <td>@loan.LoanID</td>
                        <td>@loan.EmployeeID</td>
                        <td>@loan.LoanType</td>
                        <td>@loan.LoanAmount.ToString("C")</td>
                        <td>@loan.PaidLoan.ToString("C")</td>
                        <td>@loan.LoanStatus</td>
                        <td>@loan.DateIssued.ToShortDateString()</td>
                        <td>@loan.DueDate.ToShortDateString()</td>
                        <td>@loan.LoanTerm months</td>
                        <td>
                            <a asp-page="./EditLoan" asp-route-id="@loan.LoanID" class="btn btn-sm btn-primary">Edit</a>
                            <a asp-page="./DeleteLoan" asp-route-id="@loan.LoanID" class="btn btn-sm btn-danger">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}