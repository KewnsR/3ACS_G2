@page
@model HumanRepProj.Pages.UserHelpModel
@{
    ViewData["Title"] = "Help Center";
    string currentPath = HttpContext.Request.Path;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - HR Portal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        :root {
            --primary: #4f46e5;
            --primary-hover: #4338ca;
            --primary-light: #eef2ff;
            --secondary: #64748b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --dark: #0f172a;
            --light: #f8fafc;
            --sidebar-width: 280px;
            --header-height: 70px;
            --transition: all 0.3s ease;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --border-radius: 0.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9fafb;
            color: #1e293b;
            font-size: 0.875rem;
        }

        /* Layout */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Consistent Sidebar UI */
        .sidebar {
            width: var(--sidebar-width);
            background-color: white;
            color: #475569;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100%;
            left: 0;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
            overflow-x: hidden;
            overflow-y: auto;
            padding: 1.5rem;
            border-right: 1px solid #e2e8f0;
        }

        .sidebar-header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .brand {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--dark);
            text-align: center;
        }

        .sidebar-user {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e2e8f0;
            text-align: center;
        }

        .user-name {
            font-size: 1.125rem;
            font-weight: 600;
        }

        .user-role {
            color: var(--secondary);
            font-size: 0.875rem;
        }

        .nav-title {
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            color: var(--secondary);
            margin-bottom: 1rem;
            font-weight: 500;
            padding-left: 0.75rem;
        }

        .sidebar-nav ul {
            list-style: none;
            margin-bottom: 2rem;
        }

        .sidebar-nav li {
            margin-bottom: 0.5rem;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            color: #475569;
            text-decoration: none;
            transition: var(--transition);
            border-radius: var(--border-radius);
        }

            .sidebar-nav a.active {
                background-color: var(--primary-light);
                color: var(--primary);
                font-weight: 600;
            }

            .sidebar-nav a:hover:not(.active) {
                background-color: #f1f5f9;
            }

            .sidebar-nav a i {
                width: 20px;
                text-align: center;
            }

        .sidebar-footer {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
        }

            .sidebar-footer a {
                display: flex;
                align-items: center;
                gap: 0.75rem;
                padding: 0.75rem;
                color: #475569;
                text-decoration: none;
                transition: var(--transition);
                border-radius: var(--border-radius);
            }

                .sidebar-footer a:hover {
                    background-color: #f1f5f9;
                }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            display: flex;
            flex-direction: column;
        }

        /* Top Navigation */
        .top-nav {
            height: var(--header-height);
            background-color: white;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .search-bar {
            display: flex;
            align-items: center;
            background: #f1f5f9;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            width: 300px;
        }

            .search-bar input {
                border: none;
                outline: none;
                background: transparent;
                width: 100%;
                margin-left: 0.5rem;
                font-size: 0.875rem;
            }

        /* Content Container */
        .content-container {
            padding: 2rem;
            flex-grow: 1;
        }

        /* Help Page Specific Styles */
        .help-header {
            margin-bottom: 2rem;
        }

            .help-header h1 {
                font-size: 1.75rem;
                font-weight: 600;
                color: var(--dark);
                margin-bottom: 0.75rem;
            }

            .help-header p {
                color: var(--secondary);
                font-size: 1rem;
                max-width: 650px;
            }

        .help-search {
            margin-bottom: 2.5rem;
            max-width: 650px;
        }

            .help-search input {
                width: 100%;
                padding: 0.75rem 1rem;
                border: 1px solid #e2e8f0;
                border-radius: var(--border-radius);
                font-size: 1rem;
                outline: none;
                transition: var(--transition);
            }

                .help-search input:focus {
                    border-color: var(--primary);
                    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
                }

        .help-categories {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 2.5rem;
        }

        @@media (min-width: 768px) {
            .help-categories

        {
            grid-template-columns: repeat(2, 1fr);
        }

        }

        @@media (min-width: 1024px) {
            .help-categories

        {
            grid-template-columns: repeat(3, 1fr);
        }

        }

        .help-category {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            transition: var(--transition);
            cursor: pointer;
        }

            .help-category:hover {
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
                transform: translateY(-4px);
            }

        .category-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            background-color: var(--primary-light);
            color: var(--primary);
            border-radius: 50%;
            margin-bottom: 1rem;
        }

            .category-icon i {
                font-size: 1.25rem;
            }

        .category-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .category-description {
            color: var(--secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .category-link {
            color: var(--primary);
            font-size: 0.875rem;
            font-weight: 500;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .help-faqs {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .faqs-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 1.5rem;
        }

        .faq-item {
            border-bottom: 1px solid #e2e8f0;
            padding: 1rem 0;
        }

            .faq-item:last-child {
                border-bottom: none;
            }

        .faq-question {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            padding: 0.5rem 0;
        }

            .faq-question i {
                transition: var(--transition);
            }

        .faq-answer {
            color: var(--secondary);
            padding-top: 0.5rem;
            display: none;
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        .contact-support {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            text-align: center;
            max-width: 650px;
            margin: 0 auto;
        }

        .contact-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.75rem;
        }

        .contact-description {
            color: var(--secondary);
            margin-bottom: 1.5rem;
        }

        .contact-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
        }

        .contact-method {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            flex: 1;
            min-width: 150px;
            background-color: #f8fafc;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

            .contact-method:hover {
                background-color: var(--primary-light);
            }

            .contact-method i {
                font-size: 1.5rem;
                color: var(--primary);
                margin-bottom: 0.5rem;
            }

            .contact-method span {
                font-weight: 500;
                color: var(--dark);
            }

        /* Responsive */
        @@media (max-width: 768px) {
            .sidebar

        {
            transform: translateX(-100%);
            position: fixed;
            width: 280px;
            z-index: 1001;
        }

        .sidebar.open {
            transform: translateX(0);
        }

        .main-content {
            margin-left: 0;
        }

        .top-nav {
            justify-content: space-between;
            padding: 0 1rem;
        }

        .search-bar {
            width: auto;
            flex-grow: 1;
            margin: 0 1rem;
        }

        .content-container {
            padding: 1rem;
        }

        .help-categories {
            grid-template-columns: 1fr;
        }

        }

        /* Logout Popup Styles */
        .logout-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

            .logout-popup.active {
                opacity: 1;
                visibility: visible;
            }

        .logout-popup-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 320px;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .logout-popup.active .logout-popup-content {
            transform: translateY(0);
        }

        .logout-popup-body {
            padding: 1.5rem;
            text-align: center;
        }

            .logout-popup-body p {
                margin: 0 0 1.5rem 0;
                font-size: 1rem;
                color: #333;
            }

        .logout-popup-buttons {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .btn {
            padding: 0.5rem 1.5rem;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            min-width: 80px;
        }

        .btn-cancel {
            background-color: #ff5252;
            color: white;
        }

            .btn-cancel:hover {
                background-color: #ff1a1a;
            }

        .btn-confirm {
            background-color: #4caf50;
            color: white;
        }

            .btn-confirm:hover {
                background-color: #45a049;
            }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Consistent Sidebar UI -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="brand">HR Portal</div>
            </div>

            <div class="sidebar-user">
                <div class="user-name">Lebron</div>
                <div class="user-role">James</div>
            </div>

            <nav class="sidebar-nav">
                <p class="nav-title">Main Menu</p>
                <ul>
                    <li>
                        <a href="/UserDashboard">
                            <i class="fas fa-th-large"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="/UserProfile">
                            <i class="fas fa-user"></i>
                            <span>My Profile</span>
                        </a>
                    </li>
                    <li>
                        <a href="/UserLeaveRequest">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Leave Request</span>
                        </a>
                    </li>
                    <li>
                        <a href="/UserLoanRequest">
                            <i class="fas fa-hand-holding-usd"></i>
                            <span>Loan Request</span>
                        </a>
                    </li>
                </ul>

                <p class="nav-title">Others</p>
                <ul>
                    <li>
                        <a href="/UserHelp" class="active">
                            <i class="fas fa-question-circle"></i>
                            <span>Help</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <a href="javascript:void(0)" id="logoutButton">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Navigation -->
            <header class="top-nav">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search...">
                </div>
            </header>

            <!-- Page Content -->
            <div class="content-container">
                <div class="help-header">
                    <h1>Help Center</h1>
                    <p>Find answers to your questions about the HR Portal. Browse help topics or search for specific information.</p>
                </div>

                <div class="help-search">
                    <input type="text" placeholder="Search for help topics...">
                </div>

                <div class="help-categories">
                    <div class="help-category">
                        <div class="category-icon">
                            <i class="fas fa-user-edit"></i>
                        </div>
                        <h3 class="category-title">My Profile</h3>
                        <p class="category-description">Learn how to update your personal information, change settings, and manage your profile.</p>
                        <a href="#" class="category-link">View guide <i class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="help-category">
                        <div class="category-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h3 class="category-title">Leave Management</h3>
                        <p class="category-description">Instructions on how to request leave, check balances, and track approval status.</p>
                        <a href="#" class="category-link">View guide <i class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="help-category">
                        <div class="category-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h3 class="category-title">Loan Requests</h3>
                        <p class="category-description">Understand the loan application process, eligibility criteria, and repayment terms.</p>
                        <a href="#" class="category-link">View guide <i class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="help-category">
                        <div class="category-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <h3 class="category-title">Documents</h3>
                        <p class="category-description">How to upload, download, and manage your important documents and certificates.</p>
                        <a href="#" class="category-link">View guide <i class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="help-category">
                        <div class="category-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <h3 class="category-title">Security & Privacy</h3>
                        <p class="category-description">Information about account security, password management, and data privacy.</p>
                        <a href="#" class="category-link">View guide <i class="fas fa-arrow-right"></i></a>
                    </div>

                    <div class="help-category">
                        <div class="category-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <h3 class="category-title">Notifications</h3>
                        <p class="category-description">Configure notification preferences and understand different alert types.</p>
                        <a href="#" class="category-link">View guide <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <div class="help-faqs">
                    <h2 class="faqs-title">Frequently Asked Questions</h2>

                    <div class="faq-item">
                        <div class="faq-question">
                            How do I update my personal information?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            To update your personal information, navigate to "My Profile" in the sidebar menu. Click on the "Edit Profile" button and make your changes. Remember to click "Save" when you're done to apply your updates.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            How do I apply for leave?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            To apply for leave, go to the "Leave Request" page from the sidebar. Click on "New Request," select the leave type, specify the dates, and provide a reason. Submit your request and wait for approval from your manager.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            How can I check my leave balance?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            Your leave balance is displayed on the Dashboard. You can also view detailed leave information on the "Leave Request" page, which shows your annual entitlement, used days, and remaining balance for different leave types.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            What documents are required for a loan request?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            For loan requests, you typically need to provide your recent payslips, bank statements, and a loan justification form. Specific requirements may vary based on the loan amount and type. Check the loan policy document for detailed information.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            How can I reset my password?
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            If you're logged in, go to "My Profile" and click on "Change Password." If you're locked out, use the "Forgot Password" link on the login page. You'll receive a password reset link via your registered email address.
                        </div>
                    </div>
                </div>

                <div class="contact-support">
                    <h2 class="contact-title">Need More Help?</h2>
                    <p class="contact-description">Our support team is ready to assist you with any questions or issues you may have.</p>

                    <div class="contact-methods">
                        <div class="contact-method">
                            <i class="fas fa-envelope"></i>
                            <span>Email Support</span>
                        </div>
                        <div class="contact-method">
                            <i class="fas fa-phone-alt"></i>
                            <span>Call Helpdesk</span>
                        </div>
                        <div class="contact-method">
                            <i class="fas fa-comments"></i>
                            <span>Live Chat</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Logout Popup -->
    <div id="logoutPopup" class="logout-popup">
        <div class="logout-popup-content">
            <div class="logout-popup-body">
                <p>Are you sure you want to log out?</p>
                <div class="logout-popup-buttons">
                    <button id="confirmLogout" class="btn btn-confirm">Yes</button>
                    <button id="cancelLogout" class="btn btn-cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile sidebar toggle functionality
            const sidebarToggle = document.createElement('button');
            sidebarToggle.innerHTML = '<i class="fas fa-bars"></i>';
            sidebarToggle.style.background = 'none';
            sidebarToggle.style.border = 'none';
            sidebarToggle.style.fontSize = '1.25rem';
            sidebarToggle.style.cursor = 'pointer';

            const topNavLeft = document.createElement('div');
            topNavLeft.appendChild(sidebarToggle);
            document.querySelector('.top-nav').prepend(topNavLeft);

            const sidebar = document.querySelector('.sidebar');

            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('open');
            });

            // FAQ Toggle
            const faqItems = document.querySelectorAll('.faq-item');

            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');

                question.addEventListener('click', () => {
                    // Close all other FAQs
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item && otherItem.classList.contains('active')) {
                            otherItem.classList.remove('active');
                        }
                    });

                    // Toggle current FAQ
                    item.classList.toggle('active');
                });
            });

            // Logout popup functionality
            const logoutButton = document.getElementById('logoutButton');
            const logoutPopup = document.getElementById('logoutPopup');
            const cancelLogout = document.getElementById('cancelLogout');
            const confirmLogout = document.getElementById('confirmLogout');

            // Show popup when clicking logout
            logoutButton.addEventListener('click', function(e) {
                e.preventDefault();
                logoutPopup.classList.add('active');
            });

            // Close popup when clicking cancel
            cancelLogout.addEventListener('click', function() {
                logoutPopup.classList.remove('active');
            });

            // Confirm logout and redirect
            confirmLogout.addEventListener('click', function() {
                window.location.href = '/UserLogin?logout=true';
            });

            // Close popup when clicking outside
            logoutPopup.addEventListener('click', function(e) {
                if (e.target === logoutPopup) {
                    logoutPopup.classList.remove('active');
                }
            });

            // Close popup when pressing Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && logoutPopup.classList.contains('active')) {
                    logoutPopup.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>